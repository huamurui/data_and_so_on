# 2024-09-23

## 两周工作学习汇报

主要是征信系统报送管理/错误维护部分的迁移，开发。
还有有些值得说的地方的。

1. vue 与 v-node 创建、编写方式。
vue 创建“虚拟节点”（v-node）有很多种方式。
1.1 template  
template 看起来很像 html，但他不是的，差的不仅仅是 v-bind v-on v-if v-for 这些语法糖，整个 template 其实都会被编译成 render 函数，这个过程是 vue-loader 做的。  
1.2 渲染函数  
渲染函数算是 vue 的核心概念之一了，这个函数会返回的一个 v-node|虚拟 DOM，它描述了真实 HTML DOM 的结构，但同时又是一个 JS 对象，可以很好的被 vue 其他部分分析、处理。做到高效的 DOM 操作优化性能；配合 vue 的响应式系统，实现视图随数据更新；添加各种各样的语法糖等等等等。是 jsx 和 template 编译的结果。  
1.2.1 createElement|h  
createElement 是 vue 提供的一个函数，用来创建 v-node。h 则是 createElement 的别名，这个函数在 template 和 jsx 的编译结果中会被使用。也可以直接在 render 函数中使用。  
1.2.2 jsx  
jsx 和 template 一样，都是用来描述虚拟节点的。 jsx 和 h 函数使用起来差不多，灵活。但 vue 需要配置额外插件才能支持 jsx。而 template 和 h 不需要额外配置。  

1.3 template vs jsx

template 优点是语法清晰，易于理解，但灵活性不足，vue 提供了许多如 `<template #xxxSlot></template> <slot></slot> <component :is="xxx_name"></component>` 来解决元素/组件灵活组合的问题，但应对复杂场景时仍会比较蹩脚。  
jsx 优点是灵活，可以在 render 函数中写任何 JS 代码，但缺点是太灵活了，有时会写出难理解的代码。  
所以，template 用来写简单常规页面，jsx/h() 对付复杂场景。许多 vue 的组件库，比如 element-ui，也包括公司的 a3-ui，都使用了很多 jsx/h() 的写法来开发。  

2. 表驱动开发
2.1 特点就是使用数据，比如一个 Map 或枚举之类的，来避免/代替掉大量的 if-else/switch-case，过程中也分离了程序中的数据与逻辑。

```js
// if-else
function getGood(type) {
  if (type === 'A') {
    return 'good';
  } else if (type === 'B') {
    return 'very good';
  } else if (type === 'C') {
    return 'very very good';
  } else {
    return 'very very very good';
  }
}

// map
const good_map = {
  'A': 'good',
  'B': 'very good',
  'C': 'very very good',
  'D': 'very very very good',
}
const default_good = 'very very very good';

function getGood(type) {
  return good_map[type] || default_good;
}
```
2.2 系统中的“转码”就是一个很好的例子。

2.3 其实我也不知道应该叫啥，我最近喜欢叫这样干的是打表仙人。C 语言中这个概念叫表驱动开发，Java 可能喜欢叫策略模式，但做的都是差不多的事情。这个东西的效果有两个，一个是干掉了一堆堆的 if-else，另一个是数据与逻辑分离，这些数据就可以不再是硬编码在程序中，而是可以从配置文件、数据库、网络等地方获取，这样做简单修改就可以实现动态配置，而不需要修改代码。
但这样做也是很需要具体情况具体分析的，一些数据逻辑本就强相关的功能或业务，并不适合做这种拆分。

## 总结、转正汇报

1. 主要工作内容

1.1 公司产品/业务/技术学习。  
1.2 征信系统迁移。  

1.2.1 征信系统前端页面迁移开发。  
1.2.2 公司工具、前端技术学习  
1.2.3 公司系统部署测试学习  

2. 工作心得  

2.1 对，信贷相关业务有了许多了解学习。  

2.1.1 也对一些工具有了更好的理解，比如浏览器，我之前之当它是个网上冲浪的工具，但发现许多企业的比较严肃的软件也是使用浏览器去做的...
2.1.2 像我以前很不理解为什么浏览器会拦截跨域请求，感觉自己网上发的乱七八糟的就算被窃取篡改好像也没什么，但意识到许多重要的软件也是使用浏览器去做的，这样的话，保护这些软件的数据，去防止跨域等等许多防护就很有必要了。

2.2 也算第一次一下子写这么多页面。  
之前实习派的活开发时间基本是两三天能完成的，最长的也就一两周。但这次直接迁移一整个系统... 有些工具和技巧也只在大规模开发中才会有需求，就比如查找替换和正则的那一堆操作，没有几百个页面也不至于用这个。  
a. 功能实现、测试➔大量使用/复制.  
b. 小细节不可能在一开始就决定好, 先画轮廓结构再扣细节.  
c. 做错做的有误差不可避免, 但尽量“错成一样”, 错的有规律.  
d. 文件结构, 命名规范, 合理使用工具...  


>一些小细节本就是不可能在一开始就决定好的；所谓“蹭线”，有时想要的其实是一次成功，想要在一开始定下那些本不可能在开始完成的细节，毕竟画长线条、直线条是不可能一次成功的，肯定是“错”的，之后肯定要有修改。
>
>而在说为什么不要“蹭线”时，却同样用的也是完美主义的角度，蹭出的线难看、跑形，需要“返工”成了主要被诟病的点。
>
>如果反过来看所谓的“完整的、确定的线条”，它们反而才是最“错”的，最不能反映这些繁杂的现实的；但素描还是会教“宁方勿圆”，不如叫“宁错勿对”，人一次所能把握的只有这些简单、有限的、“错”的东西。
>
>接受这种有限性、接受这种必然的“错”。别害怕一条长线下去什么都没抓到，之后有的是机会修改，继续去“错”。




你们是真信我，还是没人干活了啊...  
早听说你们跳槽的多，懂业务的都跑去银行，懂技术的都跑去互联网...  

3. 个人分析
4. 未来规划/期望
5. 其他

5 none~
